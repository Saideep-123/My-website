*{box-sizing:border-box}
body{margin:0;font-family:Poppins;background:#fafafa;color:#333;overflow-y:auto;position:relative}
body.dark{background:#121212;color:#eee}

/* Hero */
.hero{height:70vh;background:url('https://images.unsplash.com/photo-1601050690597-df0568f70950') center/cover no-repeat;position:relative;animation:fadeIn 1.5s;}
.hero::after{content:'';position:absolute;inset:0;background:rgba(0,0,0,.5);}

/* Header */
header{position:sticky;top:0;background:#fff;z-index:30;padding:.7rem 1rem;display:flex;align-items:center;justify-content:space-between;box-shadow:0 4px 12px rgba(0,0,0,.15)}
body.dark header{background:#1e1e1e}
.logo{position:absolute;left:50%;transform:translateX(-50%);font-weight:600;font-size:1.2rem;color:#c0392b;cursor:pointer}
.search{width:150px;padding:.35rem .6rem;border-radius:14px;border:1px solid #ccc}
.toggle{border:none;background:#eee;border-radius:50%;padding:.4rem .6rem;cursor:pointer}

/* Categories */
.categories{display:flex;gap:.6rem;padding:1rem;overflow-x:auto}
.categories button{border:none;padding:.45rem 1rem;border-radius:20px;background:#eee;cursor:pointer;white-space:nowrap}
.categories button.active{background:#c0392b;color:#fff}

/* Products */
.products{padding:1rem;display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:1.4rem}
.product{background:#fff;border-radius:20px;overflow:hidden;box-shadow:0 10px 30px rgba(0,0,0,.15);cursor:pointer;transition:.3s}
body.dark .product{background:#1f1f1f}
.product img{width:100%;height:160px;object-fit:cover}
.product .info{padding:.8rem}

/* Hover bounce */
.product:hover{animation:bounceHover 0.5s}
@keyframes bounceHover{0%{transform:translateY(0);}30%{transform:translateY(-8px);}60%{transform:translateY(-4px);}100%{transform:translateY(0);}}

/* Modal */
.modal{position:fixed;inset:0;background:rgba(0,0,0,.65);display:none;align-items:center;justify-content:center;z-index:40}
.modal.active{display:flex}
.modal-content{background:#fff;border-radius:24px;width:92%;max-width:480px;padding:1.4rem;max-height:90vh;overflow-y:auto;animation:fadeInUp 0.5s;position:relative}
body.dark .modal-content{background:#1e1e1e}
/* Modal Cross */
.modal-close{position:absolute;top:.6rem;right:.6rem;background:none;border:none;font-size:1.5rem;cursor:pointer}

/* Weight boxes */
.weight-boxes span{display:inline-block;padding:.35rem .8rem;border:1px solid #ccc;border-radius:14px;margin:.3rem .2rem;cursor:pointer}
.weight-boxes span.active{background:#c0392b;color:#fff}

/* Quantity */
.quantity-box{display:flex;align-items:center;gap:.5rem;margin:.6rem 0}
.quantity-box button{padding:.2rem .6rem;border:none;background:#eee;border-radius:6px;cursor:pointer}
.quantity-box span{min-width:20px;text-align:center;display:inline-block}

/* Cart */
.cart{position:fixed;right:-100%;top:0;width:360px;height:100%;background:#fff;padding:1rem;box-shadow:-4px 0 24px rgba(0,0,0,.4);transition:.4s;z-index:50;overflow-y:auto}
body.dark .cart{background:#1e1e1e}
.cart.open{right:0}
.cart .close-btn{position:absolute;top:.4rem;right:.4rem;background:none;border:none;font-size:1.2rem;cursor:pointer}
.primary{background:#c0392b;color:#fff;border:none;padding:.6rem;border-radius:14px;width:100%;cursor:pointer}
.cart-item{display:flex;justify-content:space-between;align-items:center;margin:.5rem 0}
.cart-item button{padding:.2rem .6rem}
.warn{color:#c0392b;font-size:.85rem;margin:.4rem 0}

/* Animations */
@keyframes fadeIn{0%{opacity:0;}100%{opacity:1;}}
@keyframes fadeInUp{0%{transform:translateY(30px);opacity:0;}100%{transform:translateY(0);opacity:1;}}
@keyframes popTotal{0%{transform:scale(1);}50%{transform:scale(1.3);color:#c0392b;}100%{transform:scale(1);}}
.total-pop{animation:popTotal 0.5s forwards;}
@keyframes shakeCart{0%{transform:translateX(0);}25%{transform:translateX(-5px);}50%{transform:translateX(5px);}75%{transform:translateX(-5px);}100%{transform:translateX(0);}}
.cart-shake{animation:shakeCart 0.4s;}

/* Flying thumbnail animation */
.flying-item{
  position:fixed;
  width:50px;
  height:50px;
  border-radius:8px;
  z-index:100;
  pointer-events:none;
  transition: transform 0.8s cubic-bezier(0.65, -0.25, 0.35, 1.25), opacity 0.8s;
  object-fit:cover;
}
